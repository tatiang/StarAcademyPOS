<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <title>Star Academy POS v2.0</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600;700&display=swap" rel="stylesheet">
    
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>

    <link rel="stylesheet" href="css/style_test_Gemini.css">
</head>
<body>

    <div id="print-area"></div>

    <div id="login-overlay">
        <div class="logo-area" style="border:none;">
            <div style="font-size:3rem; color:white; font-weight:bold; letter-spacing:2px; margin-bottom:20px;">
                <i class="fa-solid fa-star"></i> STAR ACADEMY
            </div>
        </div>
        <div class="login-box">
            <h2>Classroom Caf√© Login</h2>
            <div id="connection-status" style="color:#888; font-size:0.8rem; margin-bottom:15px; min-height:20px;">
                <i class="fa-solid fa-circle-notch fa-spin"></i> Connecting...
            </div>
            
            <button class="btn-pay" style="width:100%; margin-bottom:20px; background:var(--space-indigo); border:1px solid rgba(255,255,255,0.2);" onclick="window.app.loginScreen.startKioskMode()">
                <i class="fa-solid fa-tablet-screen-button"></i> Customer Kiosk Mode
            </button>

            <div class="login-grid" id="student-login-grid">
                <div style="padding:20px; color:#999;">Loading...</div>
            </div>
            
            <div class="admin-divider"><span>ADMINISTRATION</span></div>
            <div class="admin-buttons-row">
                <div class="admin-login-btn" onclick="window.app.loginScreen.promptPin('Manager')"><i class="fa-solid fa-user-tie"></i> Manager</div>
                <div class="admin-login-btn" onclick="window.app.loginScreen.promptPin('IT Support')"><i class="fa-solid fa-microchip"></i> IT Support</div>
            </div>
        </div>
        <div id="login-version-text" style="margin-top:20px; color:white; opacity:0.6; font-size:0.8rem;">v2.0.0 (Modular)</div>
    </div>

    <div class="app-wrapper">
        <nav class="sidebar no-print">
            <div class="logo-area"><span class="logo-text hidden">STAR ACADEMY</span></div>
            <ul class="nav-links">
                <li onclick="window.app.router.navigate('pos')" id="nav-pos" class="active"><i class="fa-solid fa-mug-hot"></i> POS</li>
                <li onclick="window.app.router.navigate('barista')" id="nav-barista"><i class="fa-solid fa-bell"></i> Barista View</li>
                <li onclick="window.app.router.navigate('dashboard')" id="nav-dashboard"><i class="fa-solid fa-chart-line"></i> Dashboard</li>
                <li onclick="window.app.router.navigate('inventory')" id="nav-inventory"><i class="fa-solid fa-boxes-stacked"></i> Inventory</li>
                <li onclick="window.app.router.navigate('timeclock')" id="nav-timeclock"><i class="fa-solid fa-clock"></i> Time Clock</li>
                
                <li onclick="window.app.router.navigate('manager')" id="nav-manager" class="nav-admin-link" style="display:none; margin-top:10px; border-top:1px solid rgba(255,255,255,0.1); padding-top:10px;"><i class="fa-solid fa-user-tie"></i> Manager Hub</li>
                <li onclick="window.app.router.navigate('it')" id="nav-it" class="nav-admin-link" style="display:none;"><i class="fa-solid fa-microchip"></i> IT Hub</li>
            </ul>
            <div class="sidebar-footer">
                <button onclick="window.app.loginScreen.logout()" class="btn-sm" style="background:transparent; border:1px solid rgba(255,255,255,0.3); width:100%;">Sign Out</button>
            </div>
        </nav>

        <div class="main-content">
            <header class="top-bar no-print">
                <div class="current-cashier-display" id="header-cashier">Not Logged In</div>
                <div style="display:flex; align-items:center; gap:15px;">
                    <div id="cloud-status"><div id="status-dot" class="status-dot online"></div> Cloud</div>
                    <div id="live-clock">12:00 PM</div>
                </div>
            </header>

            <section id="view-pos" class="view active">
                <div class="pos-layout">
                    <div class="product-section">
                        <div class="category-tabs" id="pos-categories"></div>
                        <div class="product-grid" id="pos-grid"></div>
                    </div>
                    <div class="cart-panel">
                        <div class="cart-header">
                            <h3>Order #<span id="order-number">...</span></h3>
                            <input type="text" id="customer-name" class="form-control" placeholder="Customer Name (Required)" style="margin-top:5px; font-size:0.9rem;">
                        </div>
                        <div class="cart-items" id="cart-list"></div>
                        <div class="cart-totals">
                            <div class="total-row"><span>Subtotal</span> <span id="pos-subtotal">$0.00</span></div>
                            <div class="total-row"><span>Tax (9.25%)</span> <span id="pos-tax">$0.00</span></div>
                            <div class="total-row grand-total"><span>Total</span> <span id="pos-total">$0.00</span></div>
                        </div>
                        <div class="cart-actions">
                            <button id="btn-action-cash" class="btn-square-large charge-disabled" onclick="window.app.posScreen.validateAndPay('Cash')">
                                <i class="fa-solid fa-money-bill-wave"></i> Cash
                            </button>
                            <button id="btn-action-card" class="btn-square-large charge-disabled" onclick="window.app.posScreen.validateAndPay('Card')">
                                <i class="fa-solid fa-credit-card"></i> Card
                            </button>
                        </div>
                    </div>
                </div>
            </section>

            <section id="view-manager" class="view">
                <h2 style="color:var(--space-indigo); margin-bottom:20px;">Manager Hub</h2>
                <div class="mgr-tabs">
                    <button class="mgr-tab active" onclick="window.app.managerHub.switchTab('staff')">Staff</button>
                    <button class="mgr-tab" onclick="window.app.managerHub.switchTab('menu')">Menu</button>
                    <button class="mgr-tab" onclick="window.app.managerHub.switchTab('data')">Data</button>
                </div>
                <div id="mgr-content-area"></div>
            </section>

            <section id="view-timeclock" class="view">
                <h2>Time Clock</h2>
                <div class="clock-controls" style="background:white; padding:20px; border-radius:12px; margin-top:20px;">
                    <div id="time-clock-grid" class="tc-grid"></div>
                </div>
            </section>

            <section id="view-it" class="view"></section>

            <section id="view-barista" class="view"><h2>Barista Queue</h2><div id="barista-grid" class="barista-grid"></div></section>
            <section id="view-dashboard" class="view"><h2>Dashboard</h2><div id="dashboard-content"></div></section>
            <section id="view-inventory" class="view"><h2>Inventory</h2><div id="inventory-content"></div></section>
            
            <section id="view-kiosk" class="view" style="background:white; position:fixed; top:0; left:0; width:100%; height:100%; z-index:2000; padding:0; display:none;">
                <button class="btn-sm" style="position:absolute; top:20px; right:20px; z-index:2001; opacity:0.3;" onclick="window.app.loginScreen.exitKioskMode()">Exit</button>
                <div style="text-align:center; margin-top:40px;">
                    <h1>Customer Kiosk</h1>
                    <div id="kiosk-grid" class="product-grid" style="padding:20px;"></div>
                </div>
            </section>
        </div>
    </div>

    <div id="modal-container">
        <div id="modal-cash" class="modal"><div class="modal-content"></div></div>
        <div id="modal-card" class="modal"><div class="modal-content"></div></div>
        <div id="modal-pin" class="modal"><div class="modal-content" style="width:300px;"></div></div>
        <div id="modal-generic" class="modal"><div class="modal-content"></div></div>
        <div id="modal-options" class="modal"><div class="modal-content"></div></div>
        <div id="modal-product" class="modal"><div class="modal-content"></div></div>
        <div id="modal-time-action" class="modal"><div class="modal-content" style="width:350px;"></div></div>
    </div>

    <script src="js/core/variables_test_Gemini.js"></script>
    <script src="js/core/helpers_test_Gemini.js"></script>
    <script src="js/core/database_test_Gemini.js"></script>

    <script src="js/modules/login_screen_test_Gemini.js"></script>
    <script src="js/modules/pos_screen_test_Gemini.js"></script>
    <script src="js/modules/timeclock_screen_test_Gemini.js"></script>
    <script src="js/modules/manager_hub_test_Gemini.js"></script>
    <script src="js/modules/it_hub_test_Gemini.js"></script>

    <script src="js/main_test_Gemini.js"></script>

</body>
</html>
