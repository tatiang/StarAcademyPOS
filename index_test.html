<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>Star Academy POS (TEST v1.63 Patched)</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style_test.css">
</head>
<body>

    <div id="login-overlay">
        <div class="logo-area" style="border:none;">
            <img src="https://staracademy.org/wp-content/uploads/2023/12/Star-Academy-Logo.png" 
                 alt="Star Academy" class="logo-img" 
                 onerror="this.style.display='none'; this.nextElementSibling.style.display='block'">
            <span class="logo-text" style="display:none; font-size:2rem;">STAR ACADEMY</span>
        </div>

        <div class="login-box">
            <h2>Classroom Café Login</h2>
            
            <div id="connection-status" class="status-indicator">
                <i class="fas fa-circle-notch fa-spin"></i> Connecting to cloud...
            </div>

            <button class="btn-login btn-kiosk" id="kiosk-btn">
                <i class="fa-solid fa-tablet-screen-button"></i> Customer Kiosk Mode
            </button>

            <div class="login-grid" id="login-grid">
                </div>

            <div class="divider"><span>ADMINISTRATION</span></div>

            <div class="admin-row">
                <button class="btn-admin" id="manager-btn">
                    <i class="fa-solid fa-user-tie"></i> Manager
                </button>
                <button class="btn-admin" id="it-btn">
                    <i class="fa-solid fa-microchip"></i> IT Support
                </button>
            </div>
            
            <div id="login-version-text" class="version-tag">v1.63 (Patched)</div>
        </div>
    </div>

    <div id="pin-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content pin-modal-content">
            <h3><i class="fas fa-lock"></i> Security Check</h3>
            <p id="pin-target-text">Enter PIN</p>
            
            <input type="password" id="pin-input" readonly placeholder="• • • •">
            
            <div class="pin-pad">
                <button onclick="pinPad('1')">1</button>
                <button onclick="pinPad('2')">2</button>
                <button onclick="pinPad('3')">3</button>
                <button onclick="pinPad('4')">4</button>
                <button onclick="pinPad('5')">5</button>
                <button onclick="pinPad('6')">6</button>
                <button onclick="pinPad('7')">7</button>
                <button onclick="pinPad('8')">8</button>
                <button onclick="pinPad('9')">9</button>
                <button class="clear-btn" onclick="pinAction('clear')">C</button>
                <button onclick="pinPad('0')">0</button>
                <button class="enter-btn" onclick="pinAction('enter')">↵</button>
            </div>
            
            <button class="close-text-btn" onclick="togglePinModal(false)">Cancel</button>
        </div>
    </div>

    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>
    
    <script type="module" src="app_test.js"></script>
    <script type="module" src="firestore_test.js"></script>

</body>
</html>
